# üìã –°–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

> –ü–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –≤–∏–¥–µ–Ω–∏–µ —Å–º. –≤ @vision.md

---

## üõ† –£—Ç–∏–ª–∏—Ç—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å—Ç–µ–∫:**
- Python 3.11+
- aiogram (Telegram API)  
- openai (–∫–ª–∏–µ–Ω—Ç –¥–ª—è OpenRouter)
- Docker + Docker Compose

**–ö–æ–º–∞–Ω–¥—ã:**
- `docker compose up` (–±–µ–∑ –¥–µ—Ñ–∏—Å–∞)
- `docker compose down`

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**KISS –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ—à–µ–Ω–∏–π
- –ù–∏–∫–∞–∫–æ–≥–æ –æ–≤–µ—Ä–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞
- –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –û–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å, –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ + —Ñ–∞–π–ª—ã
- Polling –≤–º–µ—Å—Ç–æ webhook
- –ù–∏–∫–∞–∫–∏—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

---

## üé® –°—Ç–∏–ª—å –∫–æ–¥–∞

**Python –∫–æ–Ω–≤–µ–Ω—Ü–∏–∏:**
- PEP 8 —Å—Ç–∞–Ω–¥–∞—Ä—Ç
- Typing hints –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- Dataclasses –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- f-strings –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ:**
```python
# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏: snake_case
user_message = "text"
def generate_excuse():

# –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã: UPPER_CASE  
MAX_MESSAGE_LENGTH = 200

# –ö–ª–∞—Å—Å—ã: PascalCase
class Config:
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

**–°—Ç—Ä–æ–≥–æ —Å–ª–µ–¥—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏–∑ @vision.md —Ä–∞–∑–¥–µ–ª 3:**
```
app/
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ bot.py               # aiogram handlers
‚îú‚îÄ‚îÄ llm_client.py        # OpenRouter –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ prompts.py           # –ü—Ä–æ–º–ø—Ç—ã
‚îî‚îÄ‚îÄ styles.py            # –°—Ç–∏–ª–∏ –æ—Ç–º–∞–∑–æ–∫
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –û–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- –ò–º–ø–æ—Ä—Ç—ã –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞
- –ù–∏–∫–∞–∫–∏—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–∞–ø–æ–∫ –≤ app/

---

## üì¶ –†–∞–±–æ—Ç–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

**requirements.txt:**
- –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
- –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é

**–ü—Ä–∏–º–µ—Ä:**
```
aiogram==3.1.1          # Telegram Bot API
openai==1.3.5           # OpenRouter client  
python-dotenv==1.0.0    # Environment variables
```

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏–∑ @vision.md —Ä–∞–∑–¥–µ–ª 2:**
- –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É–µ–º
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é = —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- 1 retry –¥–ª—è LLM API
- Graceful degradation

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
try:
    # operation
except Exception as e:
    logger.error(f"Error: {e}", exc_info=True)
    return "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑"
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–°–ª–µ–¥—É–π –ø–æ–¥—Ö–æ–¥—É –∏–∑ @vision.md —Ä–∞–∑–¥–µ–ª 10:**
- Dataclass –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- .env –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –ù–∏–∫–∞–∫–æ–π –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `TELEGRAM_BOT_TOKEN` 
- `OPENROUTER_API_KEY`
- `LLM_BASE_URL`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ò–∑ @vision.md —Ä–∞–∑–¥–µ–ª 2:**
- –¢–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–∏–∫–∞–∫–∏—Ö unit/integration —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Docker Compose

**–ü—Ä–æ—Ü–µ–¥—É—Ä–∞:**
1. `docker compose up`
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/start` –≤ –±–æ—Ç
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ç–∏–ª–∏ –æ—Ç–º–∞–∑–æ–∫
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

---

## üéÆ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ó–∞–ø—É—Å–∫
docker compose up

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞  
docker compose down

# –õ–æ–≥–∏
docker compose logs -f bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python -c "from app.config import config; print('OK')"
```

---

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è ‚Äî –≤—ã–±–∏—Ä–∞–π –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚ú®
